{"version":3,"sources":["components/Filter.js","components/Form.js","components/Notification.js","components/PersonDisplay.js","services/dbservice.js","App.js","index.js"],"names":["Filter","searchText","setSearchText","htmlFor","name","onChange","event","target","value","Form","handleSubmit","setNewName","setNewNumber","newName","newNumber","onSubmit","type","Notification","style","message","kind","backgroundColor","color","border","borderRadius","paddingLeft","console","log","PersonDisplay","persons","deletePerson","map","person","toLowerCase","includes","number","onClick","window","confirm","confirmDelete","id","ENDPOINT","dbservice","getAll","axios","get","create","post","delete","update","put","App","useState","setPersons","notification","setNotification","useEffect","then","response","data","newNotification","timeout","setTimeout","preventDefault","oldPerson","inPersons","catch","error","personObject","concat","deletedPerson","filter","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.620a12dd.chunk.js","sourcesContent":["import React from 'react'\n\nconst Filter = ({searchText, setSearchText}) => {\n    return (\n    <div>\n        <label htmlFor=\"search\">filter: </label>\n        <input name=\"search\" onChange={event => setSearchText(event.target.value)} value={searchText}/>\n    </div>\n    )\n}\n\nexport default Filter","import React from 'react'\n\nconst Form = ({handleSubmit, setNewName, setNewNumber, newName, newNumber}) => {\n    return (\n    <form onSubmit={handleSubmit}>\n        <div>\n          <label htmlFor=\"name\">name: </label>\n          <input name=\"name\" onChange={event => setNewName(event.target.value)} value={newName}/>     \n        </div>\n        <div>\n          <label htmlFor=\"number\">number: </label>\n          <input name=\"number\" onChange={event => setNewNumber(event.target.value)} value={newNumber}/>\n        </div>\n        <div>\n          <button type=\"submit\">add</button>\n        </div>\n      </form>\n    )\n}\nexport default Form","import React from 'react'\n\nconst Notification = ({message, kind}) => {\n    if (!message) return null\n    let style\n    switch (kind) {\n        case 'info':\n            style = {\n                backgroundColor: 'rgb(180, 170, 170)',\n                color: 'green',\n                border: '5px solid green',\n                borderRadius: '10px',\n                paddingLeft: '5px',\n            }\n            break;\n        case 'error':\n            style = {\n                backgroundColor: 'rgb(180, 170, 170)',\n                color: 'red',\n                border: '5px solid red',\n                borderRadius: '10px',\n                paddingLeft: '5px',\n            }\n            break;\n        default:\n            console.log(`unknown notification kind: ${kind}`)\n            return null\n    }\n    return (\n        <div style={style}>\n            <p>{message}</p>\n        </div>\n    )\n}\n\nexport default Notification","import React from 'react'\n\nconst PersonDisplay = ({persons, searchText, deletePerson}) => {\n    const confirmDelete = (person) => {\n        const confirmation = window.confirm(`Delete ${person.name}?`)\n        if (confirmation) deletePerson(person)\n    }\n    return (\n        <div>\n            {persons.map(person => {\n                if (person.name.toLowerCase().includes(searchText) || searchText === '')\n                return (\n                    <p key={person.id}>{person.name} {person.number}\n                        <button onClick={() => confirmDelete(person)}>Delete</button>\n                    </p>\n                )\n                else return \"\"\n              })\n            }\n        </div>\n    )\n}\n\nexport default PersonDisplay","import axios from 'axios'\n\nconst ENDPOINT = '/api/persons'\n\nconst dbservice = {\ngetAll: () => {\n    return axios.get(ENDPOINT)\n},\n\ncreate: person => {\n    return axios.post(ENDPOINT, person)\n},\n\ndelete: person => {\n    return axios.delete(ENDPOINT+'/'+person.id)\n},\n\nupdate: person => {\n    return axios.put(ENDPOINT+'/'+person.id,person)\n}\n}\n\nexport default dbservice","import React, { useState, useEffect } from 'react'\nimport Filter from './components/Filter'\nimport Form from './components/Form'\nimport Notification from './components/Notification'\nimport PersonDisplay from './components/PersonDisplay'\nimport dbservice from './services/dbservice'\n\nconst App = () => {\n  const [ persons, setPersons ] = useState([]) \n  const [ newName, setNewName ] = useState('')\n  const [ newNumber, setNewNumber] = useState('')\n  const [ searchText, setSearchText] = useState('')\n  const [ notification, setNotification] = useState([null, null])\n\n  useEffect(()=> {\n    dbservice.getAll()\n    .then(response => setPersons(response.data))\n  },[])\n\n  const newNotification = (message, kind, timeout) => {\n    setNotification([message,kind])\n    if (timeout) setTimeout(() => setNotification([null, null]),timeout)\n  }\n\n  const inPersons = (name) => {\n    for (let person of persons) {\n      if (person.name === name) return person\n    }\n    return false\n  }\n  const handleSubmit = (event) => {\n    event.preventDefault();\n    const oldPerson = inPersons(newName)\n    if (oldPerson) {\n      const confirmation = window.confirm(\n        `${newName} is already in the phonebook, replace old number with new?`\n      )\n      if (confirmation) {\n        dbservice.update({...oldPerson, number: newNumber})\n        .then(response => {\n          setPersons(persons.map( person => {\n            if (person.name === newName) return response.data\n            else return person\n          }))\n          newNotification(`Updated number for ${response.data.name}`,'info',3000)\n        }\n        )\n        .catch(error => newNotification(error.response.data.error,'error'))\n      }\n    }\n    else {\n      const personObject = {\n        name: newName,\n        number: newNumber,\n      }\n      dbservice.create(personObject)\n      .then(response => {\n        setPersons(persons.concat(response.data))\n        newNotification(`Added ${response.data.name}`,'info',3000)\n      })\n      .catch(error => newNotification(error.response.data.error,'error'))\n    }\n    setNewName('')\n    setNewNumber('')\n  }\n  const deletePerson = (deletedPerson) => {\n    dbservice.delete(deletedPerson)\n    .then(setPersons(persons.filter(person => person.id !== deletedPerson.id)))\n    .catch(error => newNotification(`Could not delete ${deletedPerson.name}`,'error'))\n  }\n\n  return (\n    <div>\n      <Notification message={notification[0]} kind={notification[1]}/>\n      <h2>Phonebook</h2>\n      <Filter searchText={searchText} setSearchText={setSearchText} />\n      <h2>Add a new</h2>\n      <Form handleSubmit={handleSubmit} setNewName={setNewName} setNewNumber={setNewNumber}\n            newName={newName} newNumber={newNumber} />\n      <h2>Numbers</h2>\n      <PersonDisplay persons={persons} searchText={searchText} deletePerson={deletePerson}/>\n    </div>\n  )\n}\n\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}